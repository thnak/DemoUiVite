@import "tailwindcss";

@source "../**/*.{ts,tsx,js,jsx}";
@source "../../index.html";

@theme {
  --color-bg-light: #ffffff;
  --color-fg-light: #0f172a; /* slate-900 */
  --color-bg-dark: #0f172a; /* slate-900 */
  --color-fg-dark: #f8fafc; /* slate-100 */
}

:root {
  color-scheme: light;
  --bg-light: #ffffff;
  --fg-light: #0f172a; /* slate-900 */
  --bg-dark: #0f172a; /* slate-900 */
  --fg-dark: #f8fafc; /* slate-100 */
}
.dark {
  color-scheme: dark;
}

/* Basic page backgrounds */
body {
  background-color: var(--bg-light);
  color: var(--fg-light);
}
.dark body {
  background-color: var(--bg-dark);
  color: var(--fg-dark);
}

/* Fallback transient theme transition for broad color/property animation */
html.theme-transition,
html.theme-transition * {
  transition-property: background-color, color, border-color, fill, stroke;
  transition-duration: 240ms;
  transition-timing-function: ease;
}

/* Soft-edge circle used for the shadcn-style transition.
   The hook creates an element with this class, positions it, then scales/fades.
*/
.theme-transition-circle {
  position: fixed;
  left: var(--theme-x, 50%);
  top: var(--theme-y, 50%);
  width: var(--theme-size, 4rem);
  height: var(--theme-size, 4rem);
  transform: translate(-50%, -50%) scale(0);
  border-radius: 9999px;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: normal;
  opacity: 0.95;
  transition: transform 480ms cubic-bezier(0.2, 0, 0, 1), opacity 480ms ease;
  will-change: transform, opacity;
}

/* Use radial-gradients to create a soft edge. We flip the gradient depending on target theme.
   For light -> dark we use a dark-ish circle; for dark -> light we use a light-ish circle.
*/
.theme-transition-circle[data-theme="to-dark"] {
  background: radial-gradient(circle at center, rgba(15,23,42,0.98) 0%, rgba(15,23,42,0.85) 35%, rgba(15,23,42,0.55) 55%, rgba(15,23,42,0) 75%);
}
.theme-transition-circle[data-theme="to-light"] {
  background: radial-gradient(circle at center, rgba(248,250,252,0.98) 0%, rgba(248,250,252,0.85) 35%, rgba(248,250,252,0.55) 55%, rgba(248,250,252,0) 75%);
}

/* When animating we scale the circle large enough to cover the viewport; the hook sets a large scale.
   This small helper class is toggled from the hook after insertion to trigger the CSS transition.
*/
.theme-transition-circle.animate {
  transform: translate(-50%, -50%) scale(var(--theme-scale, 40));
  opacity: 1;
}
