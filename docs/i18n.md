# Internationalization (i18n) Documentation

This document describes the multi-culture UI support implementation in Demo UI Vite.

## Overview

The project uses [react-i18next](https://react.i18next.com/) for internationalization, which is built on top of [i18next](https://www.i18next.com/). This provides a robust and extensible solution for multi-language support.

## Supported Languages

Currently supported languages:
- **English (en)** - Default language
- **Vietnamese (vi)** - Tiáº¿ng Viá»‡t

## Architecture

### Directory Structure

```
src/
â””â”€â”€ locales/
    â”œâ”€â”€ i18n.ts          # i18n configuration
    â”œâ”€â”€ index.ts         # Exports
    â””â”€â”€ langs/
        â”œâ”€â”€ en.json      # English translations
        â””â”€â”€ vi.json      # Vietnamese translations
```

### Key Components

1. **i18n Configuration** (`src/locales/i18n.ts`)
   - Initializes i18next with React bindings
   - Configures language detection (localStorage, browser)
   - Defines available languages

2. **Translation Files** (`src/locales/langs/*.json`)
   - JSON files containing key-value translations
   - Organized by feature/section (nav, dashboard, common, etc.)

3. **Language Popover** (`src/layouts/components/language-popover.tsx`)
   - UI component for language switching
   - Integrates with i18next to change language

## How to Add a New Language

### Step 1: Create Translation File

Create a new JSON file in `src/locales/langs/` with the language code (e.g., `fr.json` for French):

```json
{
  "nav": {
    "overview": "AperÃ§u",
    "dashboard": "Tableau de bord",
    "management": "Gestion",
    "user": "Utilisateur",
    ...
  },
  "dashboard": {
    "welcome": "Bonjour, Bienvenue ðŸ‘‹",
    ...
  },
  "common": {
    "search": "Rechercher",
    ...
  }
}
```

### Step 2: Add Flag Icon

Add a flag SVG icon to `public/assets/icons/flags/ic-flag-{code}.svg`

### Step 3: Register the Language

Update `src/locales/i18n.ts`:

```typescript
import fr from './langs/fr.json';

export const allLangs = [
  // ... existing languages
  {
    value: 'fr',
    label: 'FranÃ§ais',
    icon: '/assets/icons/flags/ic-flag-fr.svg',
  },
];

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources: {
      en: { translation: en },
      vi: { translation: vi },
      fr: { translation: fr }, // Add new language
    },
    // ...
  });
```

### Step 4: Update Mock Data (Optional)

If using mock language data, update `src/_mock/_data.ts`:

```typescript
export const _langs = [
  // ... existing languages
  {
    value: 'fr',
    label: 'FranÃ§ais',
    icon: '/assets/icons/flags/ic-flag-fr.svg',
  },
];
```

## Usage in Components

### Using the `useTranslation` Hook

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('dashboard.welcome')}</h1>
      <p>{t('common.search')}</p>
    </div>
  );
}
```

### Using Translation Keys with Parameters

```tsx
// In translation file:
// "greeting": "Hello, {{name}}!"

const { t } = useTranslation();
t('greeting', { name: 'John' }); // "Hello, John!"
```

## Language Detection

The language is automatically detected in the following order:
1. **localStorage** - Previously selected language
2. **navigator** - Browser language preference
3. **htmlTag** - HTML lang attribute

When a user selects a language, it is saved to localStorage and persists across sessions.

## Translation Keys Structure

```
nav.*           - Navigation menu items
account.*       - Account popover items
dashboard.*     - Dashboard page content
common.*        - Common UI elements
```

## Best Practices

1. **Use meaningful key names** - Keys should be descriptive and hierarchical
2. **Keep translations in sync** - Ensure all language files have the same keys
3. **Use namespaces for large apps** - For larger applications, consider using namespaces
4. **Test all languages** - Verify UI layout works with different text lengths

## Dependencies

- `i18next`: ^24.x
- `react-i18next`: ^15.x
- `i18next-browser-languagedetector`: ^8.x
